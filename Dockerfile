FROM ubuntu:trusty
RUN apt-get -y update && apt-get install -y wget && apt-get install -y git build-essential perl python "^libxcb.*" libx11-xcb-dev libglu1-mesa-dev libxrender-dev libxi-dev libxml2-dev software-properties-common uuid-dev && add-apt-repository ppa:ubuntu-toolchain-r/test && apt-get update && apt-get install -y gcc-5 g++-5 && update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-5 60 --slave /usr/bin/g++ g++ /usr/bin/g++-5 && apt-get autoclean && wget -q https://download.qt.io/official_releases/qt/5.7/5.7.1/single/qt-everywhere-opensource-src-5.7.1.tar.gz && tar -xzf qt-everywhere-opensource-src-5.7.1.tar.gz && rm qt-everywhere-opensource-src-5.7.1.tar.gz && cd qt-everywhere-opensource-src-5.7.1 && ./configure -release -static -skip qtconnectivity -skip qtwebengine -nomake examples -skip qtquickcontrols -skip qtquickcontrols2 -skip qtsensors -skip qtdoc -nomake tests -opensource -qt-pcre -qt-harfbuzz -no-sql-tds -no-sql-mysql -qt-xcb -qt-freetype -qt-libpng -confirm-license "$@" && make && make install && cd ../ && rm -rf qt-everywhere-opensource-src-5.7.1
ENV PATH /usr/local/Qt-5.7.1/bin:$PATH
